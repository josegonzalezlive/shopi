{% comment %}
  Snippet AVANZADO y COMPLETO para la secci√≥n LEYASH‚Ñ¢
  - Carga fuentes y librer√≠as externas (GSAP, Confetti).
  - Incluye todo el contenido de marketing original.
  - Totalmente responsive con animaciones y efectos interactivos.
  - CORREGIDO: Bot√≥n CTA con desplazamiento suave hacia arriba.
{% endcomment %}

<!-- Dependencias de Fuentes y Estilos -->
<link href="https://api.fontshare.com/v2/css?f[]=satoshi@400,700&f[]=general-sans@600,700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
{{ 'leyash-promo-final.css' | asset_url | stylesheet_tag }}

<!-- Librer√≠as JavaScript -->
<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>


<div class="leyash-promo-final-container">
    <div class="container">

        <!-- ‚ùå SECCI√ìN 1: PROBLEMA -->
        <div class="section">
            <h2 class="gsap-reveal">¬øCansada de Luchar Contra el Frizz y el Reloj Cada Ma√±ana?</h2>
            <img class="gsap-reveal" alt="Mujer frustrada con su rutina de peinado" src="https://cdn.shopify.com/s/files/1/0931/3484/8330/files/crisis-perdida-cabello-mujer-preocupada-estudio-belleza-desordenada-dano-contra-fondo-marron-falla-cuidado-cabello-nina-triste-frustrada-puntas-abiertas-debiles-o-caspa-alopecia-aisla.avif?v=1752100223" loading="lazy">
            <div class="glass-card problem-quote gsap-reveal">
                <p><strong>Si has llegado hasta aqu√≠ es porque</strong> tu rutina de peinado es una <strong>carrera contrarreloj</strong>. Tienes el secador en una mano, el cepillo en la otra y la plancha esperando su turno. Despu√©s de todo ese esfuerzo, el <strong>frizz aparece, tu pelo queda aplastado</strong> y el peinado no dura, dej√°ndote con una sensaci√≥n de haber <strong>perdido tiempo y energ√≠a</strong>.</p>
            </div>
            <p class="problem-warning gsap-reveal">
                <span class="material-symbols-outlined">warning</span>
                Cada d√≠a que pasas luchando con tu pelo, <span style="text-decoration: underline;">tu look pierde el brillo y la vitalidad que mereces</span>.
            </p>
        </div>

        <!-- ‚úÖ SECCI√ìN 2: SOLUCI√ìN -->
        <div class="section">
            <h2 class="gsap-reveal">El Secreto Para Un Pelo De Peluquer√≠a En 10 Minutos</h2>
            <img class="gsap-reveal" src="https://cdn.shopify.com/s/files/1/0931/3484/8330/files/UGC_VIDEO_GIF.gif?v=1752101445" alt="Cepillo Secador Multifunci√≥n en acci√≥n" loading="lazy">
            <div class="glass-card solution-box gsap-reveal">
                <p style="font-size: 18px; margin: 0; font-weight: 500;">¬°Presentamos el <strong>Cepillo Secador Multifunci√≥n</strong>! La herramienta 4 en 1 que <strong>seca, alisa, riza y da un volumen incre√≠ble, ¬°todo en un solo paso!</strong> Su tecnolog√≠a i√≥nica transforma tu cabello en minutos, eliminando el frizz y dej√°ndolo suave y brillante.</p>
            </div>
            <div class="gsap-reveal" style="margin-top: 40px;">
                <img src="https://cdn.shopify.com/s/files/1/0931/3484/8330/files/styloom-1.gif?v=1752099842" alt="Demostraci√≥n del cepillo secador" loading="lazy">
            </div>
        </div>
        
        <!-- ‚≠ê SECCI√ìN 3: BENEFICIOS CON EFECTO 3D -->
        <div class="section">
            <h2 class="gsap-reveal">Tu Transformaci√≥n en un Solo Paso</h2>
            <div class="benefits-grid">
                <div class="benefit-card gsap-reveal" data-tilt>
                    <span class="material-symbols-outlined icon" style="color: var(--color-danger);">bolt</span>
                    <h3>ACABADO DE SAL√ìN EN MINUTOS</h3>
                    <p>Seca, desenreda y peina a la vez, reduciendo tu rutina a la mitad.</p>
                </div>
                <div class="benefit-card gsap-reveal" data-tilt>
                    <span class="material-symbols-outlined icon" style="color: #F1C40F;">auto_awesome</span>
                    <h3>ADI√ìS TOTAL AL FRIZZ</h3>
                    <p>Su tecnolog√≠a i√≥nica sella la cut√≠cula para un brillo y suavidad incre√≠bles.</p>
                </div>
                <div class="benefit-card gsap-reveal" data-tilt>
                    <span class="material-symbols-outlined icon" style="color: var(--color-success);">workspace_premium</span>
                    <h3>VOLUMEN Y VERSATILIDAD</h3>
                    <p>El dise√±o ovalado crea volumen desde la ra√≠z y te permite alisar o crear ondas.</p>
                </div>
            </div>
            <p class="features-list gsap-reveal">‚úì Potencia 1200W ‚úì 3 Ajustes de Temperatura ‚úì Mango Ergon√≥mico ‚úì Iones Negativos</p>
        </div>

        <!-- üë• SECCI√ìN 4: PRUEBA SOCIAL ANIMADA -->
        <div class="section">
            <div class="stars gsap-reveal" style="font-size: 28px; margin-bottom: 15px;">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
            <h2 class="gsap-reveal">Resultados Reales de Mujeres como T√∫</h2>
            <div class="social-proof-grid gsap-reveal">
                <div class="stat-item"><div class="number" data-count="5720">0</div><div class="label">Clientes Felices</div></div>
                <div class="stat-item"><div class="number" data-count="4.9" data-decimals="1">0.0</div><div class="label">Valoraci√≥n media</div></div>
                <div class="stat-item"><div class="number" data-count="98">0</div><div class="label">% Lo recomiendan</div></div>
            </div>
            <div class="glass-card testimonial-card gsap-reveal">
                <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                <p class="quote" style="font-style: italic;">"¬°No puedo creerlo! Antes tardaba 30 minutos entre el secador y la plancha. Ahora, en 10 minutos tengo el pelo seco, liso, sin frizz y con un volumen que me encanta. ¬°Es la mejor compra que he hecho en a√±os!"</p>
                <p class="author" style="font-weight: 700;">‚Äî Laura G., 34 a√±os, Valencia</p>
            </div>
             <p class="gsap-reveal" style="margin-top:40px;"><img src="https://cdn.shopify.com/s/files/1/0931/3484/8330/files/Captura_de_pantalla_2025-07-09_a_la_s_5.56.19_p.m..png?v=1752098838" alt="Antes y despu√©s del uso del cepillo" loading="lazy"></p>
        </div>

        <!-- ‚ö° SECCI√ìN 5: OFERTA √âPICA -->
        <div class="section">
            <div class="cta-box gsap-reveal">
                <h2 style="font-size: 48px;">OFERTA FLASH</h2>
                <p style="font-size:22px; color: var(--color-accent); font-weight:700;">¬°50% DE DESCUENTO HOY!</p>

                <div class="stock-alert">
                    <span class="material-symbols-outlined">local_fire_department</span>
                    ¬°Solo quedan 17 unidades a este precio!
                </div>

                <div id="leyash-timer-wrapper">
                    <div class="timer-label">‚è∞ La oferta termina en:</div>
                    <div class="timer-grid" id="timer-active">
                        <div class="timer-unit"><div class="time-value" id="countdown-days">00</div><div class="time-label">D√≠as</div></div>
                        <div class="timer-unit"><div class="time-value" id="countdown-hours">00</div><div class="time-label">Horas</div></div>
                        <div class="timer-unit"><div class="time-value" id="countdown-minutes">00</div><div class="time-label">Min</div></div>
                        <div class="timer-unit"><div class="time-value" id="countdown-seconds">00</div><div class="time-label">Seg</div></div>
                    </div>
                     <div class="timer-expired-message" id="timer-expired">¬°Lo sentimos, esta oferta ha expirado!</div>
                </div>
                
                <div class="price-section">
                    <span class="price-old">79.99‚Ç¨</span>
                    <div class="price-new">39.99‚Ç¨</div>
                    <div class="price-save">¬°Ahorras 40‚Ç¨!</div>
                </div>
                
                <a href="#" class="cta-button" id="leyash-cta-button">¬°QUIERO MI 50% DE DESCUENTO!</a>

                <div class="payment-info">
                    <ul>
                        <li><span class="material-symbols-outlined">payments</span> Paga al recibirlo en casa</li>
                        <li><span class="material-symbols-outlined">local_shipping</span> Env√≠o gratuito en 24-48h</li>
                        <li><span class="material-symbols-outlined">shield_with_heart</span> Garant√≠a de devoluci√≥n 30 d√≠as</li>
                        <li><span class="material-symbols-outlined">inventory_2</span> Stock limitado</li>
                    </ul>
                </div>
            </div>
        </div>

    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    // C√≥digo de GSAP y contadores (sin cambios)
    gsap.registerPlugin(ScrollTrigger);
    const revealElements = gsap.utils.toArray('.gsap-reveal');
    revealElements.forEach(el => {
        gsap.fromTo(el, { autoAlpha: 0, y: 50 }, { autoAlpha: 1, y: 0, duration: 1, ease: 'power3.out', scrollTrigger: { trigger: el, start: 'top 85%', toggleActions: 'play none none none' } });
    });
    const counters = gsap.utils.toArray('.stat-item .number');
    counters.forEach(counter => {
        const target = { val: 0 };
        const endValue = parseFloat(counter.dataset.count);
        const decimals = parseInt(counter.dataset.decimals) || 0;
        gsap.to(target, { val: endValue, duration: 2.5, ease: 'power2.out', scrollTrigger: { trigger: counter, start: 'top 90%', toggleActions: 'play none none none' }, onUpdate: () => { counter.innerText = target.val.toFixed(decimals).replace('.0','').replace('.',','); } });
    });
    const tiltCards = document.querySelectorAll('[data-tilt]');
    tiltCards.forEach(card => {
        card.addEventListener('mousemove', (e) => {
            const rect = card.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            const { width, height } = rect;
            const rotateX = (y / height - 0.5) * -20;
            const rotateY = (x / width - 0.5) * 20;
            card.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale3d(1.05, 1.05, 1.05)`;
            card.style.boxShadow = '0 30px 60px rgba(0,0,0,0.4)';
        });
        card.addEventListener('mouseleave', () => {
            card.style.transform = 'perspective(1000px) rotateX(0) rotateY(0) scale3d(1, 1, 1)';
            card.style.boxShadow = '0 8px 32px 0 var(--glass-shadow)';
        });
    });
    const countdownHours = 1, countdownMinutes = 0, countdownSeconds = 0;
    const endTime = new Date().getTime() + (countdownHours * 3600 + countdownMinutes * 60 + countdownSeconds) * 1000;
    const d = document.getElementById('countdown-days'), h = document.getElementById('countdown-hours'), m = document.getElementById('countdown-minutes'), s = document.getElementById('countdown-seconds'), activeTimer = document.getElementById('timer-active'), expiredMsg = document.getElementById('timer-expired');
    const interval = setInterval(() => {
        const distance = endTime - new Date().getTime();
        if (distance < 0) {
            clearInterval(interval);
            if(activeTimer) activeTimer.style.display = 'none';
            if(expiredMsg) expiredMsg.style.display = 'block';
            return;
        }
        if(d) d.innerHTML = String(Math.floor(distance / (1000*60*60*24))).padStart(2, '0');
        if(h) h.innerHTML = String(Math.floor((distance % (1000*60*60*24))/(1000*60*60))).padStart(2, '0');
        if(m) m.innerHTML = String(Math.floor((distance % (1000*60*60))/(1000*60))).padStart(2, '0');
        if(s) s.innerHTML = String(Math.floor((distance % (1000*60))/1000)).padStart(2, '0');
    }, 1000);

    // --- C√ìDIGO DEL BOT√ìN CORREGIDO ---
    const ctaButton = document.getElementById('leyash-cta-button');
    if (ctaButton) {
        ctaButton.addEventListener('click', (e) => {
            // 1. Prevenimos el salto brusco del href="#"
            e.preventDefault();

            // 2. Lanzamos el confeti
            const rect = ctaButton.getBoundingClientRect();
            const origin = { x: (rect.left + rect.width / 2) / window.innerWidth, y: (rect.top + rect.height / 2) / window.innerHeight };
            confetti({ particleCount: 150, spread: 90, origin: origin, colors: ['#FFA7F3', '#FFFFFF', '#50E3C2', '#FF6B6B'] });

            // 3. Realizamos el desplazamiento suave hacia arriba
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });
    }
});
</script>
